
<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="https://c.s-microsoft.com/favicon.ico?v2" />
    <title>My Sample PWA</title>
    <link rel="manifest" href="/manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap" rel="stylesheet">
  </head>

<style>
body {
  background-color: #6ac41e; 
  color:white;
  font-family: 'Quicksand', sans-serif;
  font-size: 20px;
}
input {
  border-radius: 5px;
  background: #fbfbfb;
  color: black;
  border: 2px solid #ccc;
  font-family: 'Quicksand', sans-serif;
  font-size: 20px;
}

.green-text{
   color: #6ac41e;
}

input.read-only{
  background: #6ac41e;
  border: #6ac41e;
  color:white;
}

input[type=text]:focus {
  border: 1px solid #555;
}

input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

</style>
  
  <body>
<div>
    <table >       
      <tr>
        <td>
          Existing Haul Rate
        </td>
      </tr>
      <tr>
        <td colspan="1"><span class="input-group-addon">$ </span><input type="number" id="existing-haul-cost-box" onkeyup="display_cost()"></td>
      </tr>

      <tr>
        <td>
          Existing Haul Frequency
        </td>
      </tr>
      <tr>
        <td colspan="1"><span class="green-text">_ </span><input type="number" id="existing-haul-frequency-box" onkeyup="display_cost()"></td>
      </tr>
      <tr>
        <td>
          Existing Waste Cost
        </td>
      </tr>
      <tr>
        <td colspan="1"><span class="input-group-addon">$ </span><input class="read-only" type="number" id="existing-total-cost-box" readonly></td>
      </tr>
    </table>
    
    <hr>

    <table>       
      <td>
        Existing Haul Rate
      </td>
      <tr>
        <td colspan="1"><span class="input-group-addon">$ </span><input  class="read-only" type="number" id="existing_haul_rate" name="country" readonly></td>
      </tr>
      <tr>
        <td>
          Target Haul Frequency
        </td>
      </tr>
      <tr>
        <td colspan="1"><span class="green-text">_ </span><input type="number" id="target_haul_frequency" onkeyup="display_cost()"></td>
      </tr>
      <tr>
        <td>
          Target Crush Frequency
        </td>
      </tr>
      <tr>
        <td colspan="1"><span class="green-text">_ </span><input type="number" id="target_crush_frequency" onkeyup="display_cost()"></td>
      </tr>
      <tr>
        <td>
          Crush Rate
        </td>
      </tr>
      <tr>
        <td colspan="1"><span class="input-group-addon">$ </span><input type="number" id="crush_cost" onkeyup="display_cost()"></td>
      </tr>
      <tr>
        <td>
          Target Waste Cost
        </td>
      </tr>
      <tr>
        <td colspan="1"><span class="input-group-addon">$ </span><input  class="read-only" type="number" id="target_waste_cost" onkeyup="display_cost()" readonly></td>
      </tr>
    </table>
    
    <hr>
  </body>

<table>       
      <tr>
        <td>
          Current Price
        </td>
      </tr>
      <tr>
        <td colspan="1"><span class="input-group-addon">$ </span><input class="read-only" type="number" id="comparison_current" onkeyup="display_cost()" readonly></td>
      </tr>
      <tr>
        <td>
          Target Price
        </td>
      </tr>
      <tr>
        <td colspan="1"><span class="input-group-addon">$ </span><input class="read-only" type="number" id="comparison_target" onkeyup="display_cost()" readonly></td>
      </tr>
      <tr>
        <td>
          Percentage Savings
        </td>
      </tr>
      <tr>
        <td colspan="1"><span class="green-text">_ </span><input class="read-only" type="text" id="comparison_percentage" readonly></td>
      </tr>
      <tr>
        <td>
          Dollar Savings
        </td>
      </tr>
      <tr>
        <td colspan="1"><span class="input-group-addon">$ </span><input class="read-only" type="number" id="comparison_dollar" readonly></td>
      </tr>
    </table>

<table>       
      <tr>
        <td>
           <input type="button" value="Reset" onclick="clr()"> </td>
        </td>
      </tr>
    </table>
</div>


  <script>
    // Function that evaluates the digit and return result
    function display_cost() {
      
      //current haul cost
      let varCurrentHaulCost = document.getElementById("existing-haul-cost-box").value
      //current haul frequency
      let varCurrentHaulFrequency = document.getElementById("existing-haul-frequency-box").value
      //target haul frequency
      let varTargetHaulFrequency = document.getElementById("target_haul_frequency").value
      //target crush cost
      let varTargetCrushCost = document.getElementById("crush_cost").value
      //target crush frequency
      let varTargetCrushFrequency = document.getElementById("target_crush_frequency").value  

      //calculations
      let varCurrentTotalCost = parseInt(varCurrentHaulCost) * parseInt(varCurrentHaulFrequency)
      let varTargetTotalCost = (parseInt(varTargetCrushFrequency) * parseInt(varTargetCrushCost))+(parseInt(varCurrentHaulCost) * parseInt(varTargetHaulFrequency))
      let varPercentSavings_unformatted = 1- (parseInt(varTargetTotalCost) / parseInt(varCurrentTotalCost))
      let varPercentSavings_formatted = Number(varPercentSavings_unformatted/100).toLocaleString(undefined,{style: 'percent', minimumFractionDigits:2});
      let varDollarSavings = parseInt(varCurrentTotalCost) - parseInt(varTargetTotalCost)
            
      //print values
      document.getElementById("existing_haul_rate").value = varCurrentHaulCost
      document.getElementById("existing-total-cost-box").value = varCurrentTotalCost
      document.getElementById("target_waste_cost").value = varTargetTotalCost
      document.getElementById("comparison_current").value = varCurrentTotalCost
      document.getElementById("comparison_target").value = varTargetTotalCost
      document.getElementById("comparison_percentage").value = varPercentSavings_formatted
      document.getElementById("comparison_dollar").value = varDollarSavings
    }
    
    // Function that clear the display
    function clr() {
      document.getElementById("existing_haul_rate").value = ""
      document.getElementById("existing-total-cost-box").value = ""
      document.getElementById("target_waste_cost").value = ""
      document.getElementById("comparison_current").value = ""
      document.getElementById("comparison_target").value = ""
      document.getElementById("comparison_percentage").value = ""
      document.getElementById("comparison_dollar").value = ""
     document.getElementById("existing-haul-cost-box").value = ""
      document.getElementById("existing-haul-frequency-box").value = ""
      document.getElementById("target_haul_frequency").value = ""
      document.getElementById("target_crush_frequency").value = ""
      document.getElementById("crush_cost").value = ""
    }

    if('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js', { scope: '/' });
    }
    </script>
</html>
